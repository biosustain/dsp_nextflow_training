
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Nextflow fundamentals tutorial &#8212; Nextflow training notes  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'course_contents/Tutorial';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="RNA-Seq workflow" href="RunningRealWorkflow.html" />
    <link rel="prev" title="Contents" href="Contents.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Nextflow training notes  documentation</p>
  
</a></div>
        <div class="sidebar-primary-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/enryh/" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Course information</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../course_information/Instructions.html">Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../course_information/Location.html">Location</a></li>
<li class="toctree-l1"><a class="reference internal" href="../course_information/Timing.html">Timing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Course contents</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Contents.html">Contents</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Nextflow fundamentals tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="RunningRealWorkflow.html">RNA-Seq workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="SeqeraPlatform.html">Run Nextflow CLI with Seqera Platform visualizing and capturing logs</a></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../resources.html">Resources</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/enryh/notes_template" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/course_contents/Tutorial.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Nextflow fundamentals tutorial</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-our-first-script">Running our first script</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#find-the-output-and-logs-in-the-work-directory">Find the output and logs in the work directory</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-the-output-to-a-file-and-save-it-on-an-specific-folder">Send the output to a file and save it on an specific folder</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#add-in-variable-inputs-using-a-channel">Add in variable inputs using a channel</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#input-definition-to-the-process-block">1. Input definition to the process block:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#editing-the-process-command-to-use-the-input-variable">2. Editing the process command to use the input variable</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-an-input-channel">3. Creating an input channel</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-the-channel-as-input-to-the-process-call">4. Adding the channel as input to the process call</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#relaunch-a-pipeline-without-repeating-steps">Relaunch a pipeline without repeating steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-command-line-interface-cli-parameters-for-inputs">Use command line interface (CLI) parameters for inputs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-add-a-second-process-to-our-pipeline">Let’s add a second process to our pipeline</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-run-the-script-on-a-batch-of-input-values">Let’s run the script on a batch of input values</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#take-a-file-source-of-input-values-a-sample-file">Take a file source of input values (a sample file)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#full-script">Full script</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="nextflow-fundamentals-tutorial">
<h1>Nextflow fundamentals tutorial<a class="headerlink" href="#nextflow-fundamentals-tutorial" title="Link to this heading">#</a></h1>
<p>Our first script is going to be the typical <code class="docutils literal notranslate"><span class="pre">&quot;Hello</span> <span class="pre">World!&quot;</span></code> script to start learning any programming language. Let’s get hands on the code!</p>
<section id="running-our-first-script">
<h2>Running our first script<a class="headerlink" href="#running-our-first-script" title="Link to this heading">#</a></h2>
<p>Open a new file in VSCode in the codespace by clicking the New file icon or by typing in the terminal <code class="docutils literal notranslate"><span class="pre">code</span> <span class="pre">hello.nf</span></code> (nf is the extension for Nextflow scripts). Then copy / paste the following code. Save the file as hello.nf.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">hello.nf</span><a class="headerlink" href="#id1" title="Link to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="cp">#!/usr/bin/env nextflow</span>

<span class="cm">/*</span>
<span class="cm"> * Use echo to print &#39;Hello World!&#39; to standard out</span>
<span class="cm"> */</span>
<span class="c1">// A process</span>
<span class="n">process</span><span class="w"> </span><span class="n">sayHello</span><span class="w"> </span><span class="o">{</span>

<span class="w">    </span><span class="nl">output:</span>
<span class="w">        </span><span class="n">stdout</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// code block (here using bash)</span>
<span class="w">    </span><span class="nl">script:</span><span class="w"> </span>
<span class="w">    </span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    echo &quot;Your name says Hello World!&quot;</span>
<span class="s2">    &quot;&quot;&quot;</span>
<span class="o">}</span>

<span class="c1">// the workflow</span>
<span class="n">workflow</span><span class="w"> </span><span class="o">{</span>

<span class="w">    </span><span class="c1">// emit a greeting</span>
<span class="w">    </span><span class="n">sayHello</span><span class="o">()</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<p>Now let’s have a look to the code. A Nextflow script involves two main types of core components: process/es and the workflow. Each process describes what operation(s) should be performed (in our case printing ‘Hello World!’), while the workflow describes the dataflow logic that connects the various steps. For now we only have <code class="docutils literal notranslate"><span class="pre">output</span></code> and <code class="docutils literal notranslate"><span class="pre">code</span> <span class="pre">block</span></code> in the process and only one process is called in the workflow block (<code class="docutils literal notranslate"><span class="pre">sayHello()</span></code>).</p>
<p>Let’s try to run your first Nextflow script in your codespace:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Running hello.nf</span><a class="headerlink" href="#id2" title="Link to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">hello</span><span class="o">.</span><span class="na">nf</span>
</pre></div>
</div>
</div>
<p>How do you feel? Success? :)</p>
</section>
<section id="find-the-output-and-logs-in-the-work-directory">
<h2>Find the output and logs in the work directory<a class="headerlink" href="#find-the-output-and-logs-in-the-work-directory" title="Link to this heading">#</a></h2>
<p>The first time you run a pipeline it will create a new directory called <code class="docutils literal notranslate"><span class="pre">work</span></code>. In this directory all the logs and results of each process will be stored in a folder named with a random hexadecimal code.</p>
<p>To find which is the folder that you have to look for check at the run summary of your pipeline, then do an <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">work/&lt;hexadecimal</span> <span class="pre">code</span> <span class="pre">here&gt;</span></code>.</p>
<p>To see the entire work folder structure use <code class="docutils literal notranslate"><span class="pre">tree</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tree<span class="w"> </span>-a<span class="w"> </span>work
</pre></div>
</div>
<p>Spend some time identifying all the files produced in your first script.</p>
<p>If we look inside each subdirectory, we find the following log files:</p>
<blockquote>
<div><ul class="simple">
<li><p>.command.begin: Metadata related to the beginning of the execution of the process task</p></li>
<li><p>.command.err: Error messages (stderr) emitted by the process task</p></li>
<li><p>.command.log: Complete log output emitted by the process task</p></li>
<li><p>.command.out: Regular output (stdout) by the process task</p></li>
<li><p>.command.sh: The command that was run by the process task call</p></li>
<li><p>.exitcode: The exit code resulting from the command</p></li>
</ul>
</div></blockquote>
<p>As you wrote your results in the standard output, where do you think you will find your greeting message? Are there some files empty for this run? Why?</p>
<p>You may have also noticed that you get some .nextflow.log files with all Nextflow activity since you run the script. These ones accumulate until 10 files. To see the one corresponding to the latest run do a <code class="docutils literal notranslate"><span class="pre">less</span> <span class="pre">.nextflow.log</span></code>. Very useful for debugging as well!</p>
</section>
<section id="send-the-output-to-a-file-and-save-it-on-an-specific-folder">
<h2>Send the output to a file and save it on an specific folder<a class="headerlink" href="#send-the-output-to-a-file-and-save-it-on-an-specific-folder" title="Link to this heading">#</a></h2>
<p>Let’s write the output to a file, we need to define the output in a different way and change the bash code in the code block.</p>
<p>Now in the output gets defined as a file instead of stdout.</p>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">path</span></code> qualifier allows you to provide input/output files to the process execution context.</p>
</div></blockquote>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="nl">output:</span>
<span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="s1">&#39;output.txt&#39;</span>
</pre></div>
</div>
<p>We adapt the code block. Now the greeting message is directed into the file called <code class="docutils literal notranslate"><span class="pre">output.txt</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;Hello World!&#39;</span><span class="w"> </span>&gt;<span class="w"> </span>output.txt
</pre></div>
</div>
<p>Run the pipeline again!</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">hello</span><span class="o">.</span><span class="na">nf</span>
</pre></div>
</div>
<p>Now go and find the output file in the <code class="docutils literal notranslate"><span class="pre">work</span></code> directory.</p>
<p>Now let’s save the outputfile on an specific folder called <code class="docutils literal notranslate"><span class="pre">results</span></code>. We will do that by specifying in the directives the results folder using the directive <code class="docutils literal notranslate"><span class="pre">publishDir</span></code>.</p>
<blockquote>
<div><p>Directives are optional settings that affect the execution of the current process.</p>
</div></blockquote>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">process</span><span class="w"> </span><span class="n">sayHello</span><span class="w"> </span><span class="o">{</span>

<span class="w">    </span><span class="n">publishDir</span><span class="w"> </span><span class="s1">&#39;results&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">mode:</span><span class="w"> </span><span class="s1">&#39;copy&#39;</span>

<span class="w">    </span><span class="nl">output:</span>
<span class="w">        </span><span class="n">path</span><span class="w"> </span><span class="s1">&#39;output.txt&#39;</span>
</pre></div>
</div>
<p>Run the pipeline again!</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">hello</span><span class="o">.</span><span class="na">nf</span>
</pre></div>
</div>
<p>Were was the output file saved now? Could you find it anywhere else? Notice the <code class="docutils literal notranslate"><span class="pre">mode:</span> <span class="pre">'copy'</span></code>. Is your greeting message now in <code class="docutils literal notranslate"><span class="pre">.command.out</span></code>?</p>
<blockquote>
<div><p>With <code class="docutils literal notranslate"><span class="pre">mode:</span> <span class="pre">'copy'</span></code> you are telling Nextflow that the reults need to be just a copy of the results saved in the work directory. There are other mode types to modify the publishDir behaviour.</p>
</div></blockquote>
</section>
<section id="add-in-variable-inputs-using-a-channel">
<h2>Add in variable inputs using a channel<a class="headerlink" href="#add-in-variable-inputs-using-a-channel" title="Link to this heading">#</a></h2>
<p>Let’s add some more flexibility by using an input variable, so that we can easily change the greeting message.</p>
<p>This requires us to make few changes:</p>
<ol class="arabic simple">
<li><p>Tell the process about expected variable inputs using the input block</p></li>
<li><p>Edit the process to use the input value (in the process block)</p></li>
<li><p>Create a channel to pass input to the process (more on that in a minute)</p></li>
<li><p>Add the channel as input to the process call (in the workflow block)</p></li>
</ol>
<section id="input-definition-to-the-process-block">
<h3>1. Input definition to the process block:<a class="headerlink" href="#input-definition-to-the-process-block" title="Link to this heading">#</a></h3>
<p>Adding an input definition.</p>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">val</span></code> qualifier accepts any data type. It can be accessed in the process script by using the specified input name.</p>
</div></blockquote>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">process</span><span class="w"> </span><span class="n">sayHello</span><span class="w"> </span><span class="o">{</span>

<span class="w">    </span><span class="n">publishDir</span><span class="w"> </span><span class="s1">&#39;results&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">mode:</span><span class="w"> </span><span class="s1">&#39;copy&#39;</span>

<span class="w">    </span><span class="nl">input:</span>
<span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="n">greeting</span>

<span class="w">    </span><span class="nl">output:</span>
<span class="w">        </span><span class="n">path</span><span class="w"> </span><span class="s2">&quot;output.txt&quot;</span>
</pre></div>
</div>
</section>
<section id="editing-the-process-command-to-use-the-input-variable">
<h3>2. Editing the process command to use the input variable<a class="headerlink" href="#editing-the-process-command-to-use-the-input-variable" title="Link to this heading">#</a></h3>
<p>Changing the code to write the variable (containing our grreting) in the output file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$greeting</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>output.txt
</pre></div>
</div>
</section>
<section id="creating-an-input-channel">
<h3>3. Creating an input channel<a class="headerlink" href="#creating-an-input-channel" title="Link to this heading">#</a></h3>
<p>This needs to be done in the workflow block.</p>
<p>Nextflow uses channels to feed inputs to processes and ferry data between processes that are connected together</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>

<span class="w">    </span><span class="c1">// creating a channel for inputs</span>
<span class="w">    </span><span class="n">greeting_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s1">&#39;Hello world!&#39;</span><span class="o">)</span>

<span class="w">    </span><span class="c1">// emitting a greeting</span>
<span class="w">    </span><span class="n">sayHello</span><span class="o">()</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
<section id="adding-the-channel-as-input-to-the-process-call">
<h3>4. Adding the channel as input to the process call<a class="headerlink" href="#adding-the-channel-as-input-to-the-process-call" title="Link to this heading">#</a></h3>
<p>Now we need to actually plug our newly created channel into the sayHello() process call.</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="c1">// emit a greeting</span>
<span class="n">sayHello</span><span class="o">(</span><span class="n">greeting_ch</span><span class="o">)</span>
</pre></div>
</div>
<p>And run the pipeline again!</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">hello</span><span class="o">.</span><span class="na">nf</span>
</pre></div>
</div>
</section>
</section>
<section id="relaunch-a-pipeline-without-repeating-steps">
<h2>Relaunch a pipeline without repeating steps<a class="headerlink" href="#relaunch-a-pipeline-without-repeating-steps" title="Link to this heading">#</a></h2>
<blockquote>
<div><p>One of the core features of Nextflow is the ability to cache task executions and re-use them in subsequent runs to minimize duplicate work. Reentrancy is useful both for recovering from errors and for iteratively when developing a pipeline.</p>
</div></blockquote>
<p>In other words use the <code class="docutils literal notranslate"><span class="pre">-resume</span></code> option to run a pipeline again without repeating the processes that have already been completed without errors.</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">hello</span><span class="o">.</span><span class="na">nf</span><span class="w"> </span><span class="o">-</span><span class="n">resume</span>
</pre></div>
</div>
<p>What happened? Did your <code class="docutils literal notranslate"><span class="pre">sayHello()</span></code> process run again? Notice that the work subdirectory referenced in the summary of the pipeline execution has not changed and contains all results files and logs from the previous run, this step has not run again.</p>
</section>
<section id="use-command-line-interface-cli-parameters-for-inputs">
<h2>Use command line interface (CLI) parameters for inputs<a class="headerlink" href="#use-command-line-interface-cli-parameters-for-inputs" title="Link to this heading">#</a></h2>
<blockquote>
<div><p>Nextflow has a built-in workflow parameter system called params, which makes it easy to declare and use CLI parameters.</p>
</div></blockquote>
<p>So try to specify the input from the command line. For that you need to modify how the channel is created to get now the greeting value from the CLI in the workflow block.</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="c1">// create a channel for inputs</span>
<span class="n">greeting_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">greeting</span><span class="o">)</span>
</pre></div>
</div>
<p>Run the pipeline! Let’s greet på Dansk!</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">hello</span><span class="o">.</span><span class="na">nf</span><span class="w"> </span><span class="o">--</span><span class="n">greeting</span><span class="w"> </span><span class="s1">&#39;Hej verden!&#39;</span>
</pre></div>
</div>
<blockquote>
<div><p>Notice one thing here, for parameters that apply to a pipeline, we use a double hyphen (–),
whereas we use a single hyphen (-) for parameters that modify a specific Nextflow setting,
e.g. the -resume feature we used earlier.</p>
</div></blockquote>
<p>How the result looks now? Very Danish?</p>
</section>
<section id="let-s-add-a-second-process-to-our-pipeline">
<h2>Let’s add a second process to our pipeline<a class="headerlink" href="#let-s-add-a-second-process-to-our-pipeline" title="Link to this heading">#</a></h2>
<p>Now we introduce a second process that converts the text to uppercase.</p>
<p>Here it is just an scheme for the code:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm"> * Let&#39;s convert the greeting to uppercase</span>
<span class="cm"> */</span>
<span class="n">process</span><span class="w"> </span><span class="n">convertToUpper</span><span class="w"> </span><span class="o">{</span>

<span class="w">    </span><span class="c1">// directives</span>
<span class="w">    </span><span class="c1">//publish a directory for results</span>

<span class="w">    </span><span class="nl">input:</span>
<span class="w">        </span><span class="c1">//define an input file</span>

<span class="w">    </span><span class="c1">// we modify the output file name</span>
<span class="w">    </span><span class="c1">// the output file should contain an indication that these is an uppercase message and the input file name</span>
<span class="w">    </span><span class="c1">// Avoid spaces in the file name</span>
<span class="w">    </span><span class="nl">output:</span>
<span class="w">        </span><span class="c1">//define an output file that contains</span>

<span class="w">    </span><span class="c1">// now we add the bash code to convert the greeting to uppercase</span>
<span class="w">    </span><span class="c1">// A way to do that in bash scripting is cat file | tr &#39;[a-z]&#39; &#39;[A-Z]&#39; &gt; output</span>
<span class="w">    </span><span class="c1">// By the way do not add // (comments in your script block) they will be interpreted</span>
<span class="w">    </span><span class="nl">script:</span>
<span class="w">    </span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    </span>
<span class="s2">    &quot;&quot;&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Let’s modify the code in the workflow block to accomodate the second process.</p>
<p>The output of the sayHello process is automatically packaged as a channel called <code class="docutils literal notranslate"><span class="pre">sayHello.out</span></code>, so all we need to do is pass that as the input to the convertToUpper process.</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>

<span class="w">    </span><span class="c1">// create a channel for inputs</span>
<span class="w">    </span><span class="n">greeting_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">greeting</span><span class="o">)</span>

<span class="w">    </span><span class="c1">// emit a greeting</span>
<span class="w">    </span><span class="n">sayHello</span><span class="o">(</span><span class="n">greeting_ch</span><span class="o">)</span>

<span class="w">    </span><span class="c1">// convert the greeting to uppercase</span>
<span class="w">    </span><span class="n">convertToUpper</span><span class="o">(</span><span class="n">sayHello</span><span class="o">.</span><span class="na">out</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Now you are ready to greet på Dansk igen!</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">hello</span><span class="o">.</span><span class="na">nf</span><span class="w"> </span><span class="o">--</span><span class="n">greeting</span><span class="w"> </span><span class="s1">&#39;Hej verden!&#39;</span>
</pre></div>
</div>
<p>What happened now? How many processes have been run? Did your code edits work? How are your output files named and where were they saved?</p>
</section>
<section id="let-s-run-the-script-on-a-batch-of-input-values">
<h2>Let’s run the script on a batch of input values<a class="headerlink" href="#let-s-run-the-script-on-a-batch-of-input-values" title="Link to this heading">#</a></h2>
<p>Workflows typically run on batches of inputs that are meant to be processed in bulk, so we want to upgrade the workflow to accept multiple input values.</p>
<p><code class="docutils literal notranslate"><span class="pre">Channel.of()</span></code> factory we’ve been using is quite happy to accept more than one value. Imagine that these could be used to pass a list of genes, genomes or files …</p>
<p>There are different factory channels to create the channels. Here you have an example where I used factory <code class="docutils literal notranslate"><span class="pre">Channel.fromFilePairs()</span></code> fastq read files.</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">params</span><span class="o">.</span><span class="na">reads</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$projectDir/data/*_{1,2}.fq.gz&quot;</span>

<span class="n">Channel</span>
<span class="w">    </span><span class="o">.</span><span class="na">fromFilePairs</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">reads</span><span class="o">,</span><span class="w"> </span><span class="nl">checkIfExists:</span><span class="w"> </span><span class="kc">true</span><span class="o">)</span>
<span class="w">    </span><span class="o">.</span><span class="na">toSortedList</span><span class="o">(</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">a</span><span class="o">,</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">a</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;=&gt;</span><span class="w"> </span><span class="n">b</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">}</span><span class="w"> </span><span class="o">)</span>
<span class="w">    </span><span class="o">.</span><span class="na">flatMap</span><span class="o">()</span>
<span class="w">    </span><span class="o">.</span><span class="na">set</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">read_pairs_ch</span><span class="w"> </span><span class="o">}</span>
<span class="w">    </span><span class="n">read_pairs_ch</span><span class="o">.</span><span class="na">view</span><span class="o">()</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">.toSortedList</span></code>, <code class="docutils literal notranslate"><span class="pre">.flatMap</span></code>, <code class="docutils literal notranslate"><span class="pre">.set</span></code>, <code class="docutils literal notranslate"><span class="pre">.view</span></code> are operators to transform the channel and achieve the input files in the desired format.</p>
<p>Back into our channel. Please modify the following, where do you need to add that?</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="c1">// create a channel for inputs</span>
<span class="n">greeting_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s1">&#39;Hello&#39;</span><span class="o">,</span><span class="s1">&#39;Bonjour&#39;</span><span class="o">,</span><span class="s1">&#39;Hola&#39;</span><span class="o">,</span><span class="s1">&#39;Hej&#39;</span><span class="o">)</span>
</pre></div>
</div>
<p>We want to ensure the output file names will be unique as they will be all written in the same folder <code class="docutils literal notranslate"><span class="pre">results</span></code>. Let’s generate a file name dynamically so that the final file names will be unique. We need then to modify the code in the process <code class="docutils literal notranslate"><span class="pre">sayHello</span></code>:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">process</span><span class="w"> </span><span class="n">sayHello</span><span class="w"> </span><span class="o">{</span>

<span class="w">    </span><span class="n">publishDir</span><span class="w"> </span><span class="s1">&#39;results&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">mode:</span><span class="w"> </span><span class="s1">&#39;copy&#39;</span>

<span class="w">    </span><span class="nl">input:</span>
<span class="w">        </span><span class="n">val</span><span class="w"> </span><span class="n">greeting</span>

<span class="w">    </span><span class="nl">output:</span>
<span class="w">        </span><span class="n">path</span><span class="w"> </span><span class="s2">&quot;${greeting}-output.txt&quot;</span>

<span class="w">    </span><span class="nl">script:</span>
<span class="w">    </span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    echo &quot;$greeting&quot; &gt; &quot;${greeting}-output.txt&quot;</span>
<span class="s2">    &quot;&quot;&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Let’s run the script again. But hang on, to expand the logging to display one line per process call to have a closer look to what is going on, just add <code class="docutils literal notranslate"><span class="pre">-ansi-log</span> <span class="pre">false</span></code> to the command.</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">hello</span><span class="o">.</span><span class="na">nf</span><span class="w"> </span><span class="o">-</span><span class="n">ansi</span><span class="o">-</span><span class="n">log</span><span class="w"> </span><span class="kc">false</span>
</pre></div>
</div>
<p>Did you see something different in the summary of the nextflow run?</p>
<p>Check the results folder and the output files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tree<span class="w"> </span>results
less<span class="w"> </span>results/Hello-output.txt
less<span class="w"> </span>results/Hej-output.txt
...
</pre></div>
</div>
</section>
<section id="take-a-file-source-of-input-values-a-sample-file">
<h2>Take a file source of input values (a sample file)<a class="headerlink" href="#take-a-file-source-of-input-values-a-sample-file" title="Link to this heading">#</a></h2>
<p>Finally last modification to our script. Usually workflows start from a sample file. In Nextflow and in nf-core standards this is usually called <code class="docutils literal notranslate"><span class="pre">samplesheet.csv</span></code>. We will create a file called <code class="docutils literal notranslate"><span class="pre">greetings.csv</span></code> for our example pipeline and save it in a folder called <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>data
<span class="nb">cd</span><span class="w"> </span>data
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Hello,Bonjour,Hola,Hej&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>greetings.csv
less<span class="w"> </span>greetings.csv
<span class="nb">cd</span><span class="w"> </span>..<span class="w"> </span>
</pre></div>
</div>
<p>Does the file greetings.csv look as greetings separated per commas? :) Then you are good to go on…</p>
<p>Now we need to set up a CLI parameter with a default value pointing to an input file. Let’s put that piece of code by the bginning of our script:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm"> * Pipeline parameters</span>
<span class="cm"> */</span>
<span class="n">params</span><span class="o">.</span><span class="na">input_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;data/greetings.csv&quot;</span>
</pre></div>
</div>
<p>We need to construct the channel. We use channel factory, <code class="docutils literal notranslate"><span class="pre">Channel.fromPath()</span></code>, which has some built-in functionality for handling file paths. Furthermore, we’re going to add the <code class="docutils literal notranslate"><span class="pre">.splitCsv()</span></code> operator to make Nextflow parse the file contents accordingly, as well as the <code class="docutils literal notranslate"><span class="pre">.flatten()</span></code> operator to turn the array element produced by <code class="docutils literal notranslate"><span class="pre">.splitCsv()</span></code> into a channel of individual elements.</p>
<p>By now you should know where to add this piece of code:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="c1">// create a channel for inputs from a CSV file</span>
<span class="n">greeting_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">input_file</span><span class="o">)</span>
<span class="w">                     </span><span class="o">.</span><span class="na">splitCsv</span><span class="o">()</span>
<span class="w">                     </span><span class="o">.</span><span class="na">flatten</span><span class="o">()</span>
</pre></div>
</div>
<p>Ok, lets try this script one last time!</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">hello</span><span class="o">.</span><span class="na">nf</span>
</pre></div>
</div>
<p>Did you get the same results? Hopefully yes but now you used a <code class="docutils literal notranslate"><span class="pre">greetings.csv</span></code> that could be your <code class="docutils literal notranslate"><span class="pre">samplesheet.csv</span></code> file if you run a real biological pipeline.</p>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading">#</a></h2>
<blockquote>
<div><p>You should also have a basic idea of how to build a workflow and manage inputs and outputs. You know how to provide the input values to the workflow via the CLI or a file. You know how to define your output files and how to save the results in an specific folder.</p>
<p>More generally, you’ve learned how to use the essential components of Nextflow:</p>
<ul class="simple">
<li><p><strong>Channels</strong>: contain the input of the workflows used by the processes. Channels connect processes with each other.</p></li>
<li><p><strong>Operators</strong>: transform the content of channels by applying functions or transformations. Operators are usually applied on channels to get the input of a process in the desired format.</p></li>
<li><p><strong>Processes</strong>: define the script or software that is run (e.g. a fastQC analysis on sequenced data).</p></li>
<li><p><strong>Workflows</strong>: call the processes as functions with channels as input arguments, only processes defined in the workflow are run.</p></li>
</ul>
</div></blockquote>
</section>
<section id="full-script">
<h2>Full script<a class="headerlink" href="#full-script" title="Link to this heading">#</a></h2>
<p>Here you have you first nextflow script in full! Congratulations!</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">hello.nf</span><a class="headerlink" href="#id3" title="Link to this code">#</a></div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="cp">#!/usr/bin/env nextflow</span>

<span class="cm">/*</span>
<span class="cm"> * Pipeline parameters</span>
<span class="cm"> */</span>
<span class="n">params</span><span class="o">.</span><span class="na">input_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;data/greetings.csv&quot;</span>

<span class="cm">/*</span>
<span class="cm"> * Process 1: Use echo to print &#39;Hello World!&#39; to an output file</span>
<span class="cm"> */</span>
<span class="n">process</span><span class="w"> </span><span class="n">sayHello</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="c1">//directives</span>
<span class="w">    </span><span class="n">publishDir</span><span class="w"> </span><span class="s1">&#39;results&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">mode:</span><span class="w"> </span><span class="s1">&#39;copy&#39;</span>

<span class="w">    </span><span class="nl">input:</span>
<span class="w">        </span><span class="n">path</span><span class="w"> </span><span class="n">input_file</span>

<span class="w">    </span><span class="nl">output:</span>
<span class="w">        </span><span class="n">path</span><span class="w"> </span><span class="s2">&quot;${greeting}-output.txt&quot;</span>

<span class="w">    </span><span class="nl">script:</span>
<span class="w">    </span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    echo &quot;$greeting&quot; &gt; &quot;$greeting-output.txt&quot;</span>
<span class="s2">    &quot;&quot;&quot;</span>
<span class="o">}</span>

<span class="cm">/*</span>
<span class="cm"> * Process 2: Use a text replace utility as we will do it in bash to convert the greeting to uppercase</span>
<span class="cm"> */</span>
<span class="n">process</span><span class="w"> </span><span class="n">convertToUpper</span><span class="w"> </span><span class="o">{</span>

<span class="w">    </span><span class="n">publishDir</span><span class="w"> </span><span class="s1">&#39;results&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">mode:</span><span class="w"> </span><span class="s1">&#39;copy&#39;</span>

<span class="w">    </span><span class="nl">input:</span>
<span class="w">        </span><span class="n">path</span><span class="w"> </span><span class="n">input_file</span>

<span class="w">    </span><span class="c1">// we modify the output file name</span>
<span class="w">    </span><span class="nl">output:</span>
<span class="w">        </span><span class="n">path</span><span class="w"> </span><span class="s2">&quot;UPPER-${input_file}&quot;</span>

<span class="w">    </span><span class="c1">// now we add the bash code to convert the greeting to uppercase</span>
<span class="w">    </span><span class="nl">script:</span>
<span class="w">    </span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    cat &quot;$input_file&quot; | tr &#39;[a-z]&#39; &#39;[A-Z]&#39; &gt; UPPER-${input_file}</span>
<span class="s2">    &quot;&quot;&quot;</span>
<span class="o">}</span>

<span class="n">workflow</span><span class="w"> </span><span class="o">{</span>

<span class="w">    </span><span class="c1">// create a channel for inputs from a CSV file</span>
<span class="w">    </span><span class="n">greeting_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">input_file</span><span class="o">)</span>
<span class="w">                     </span><span class="o">.</span><span class="na">splitCsv</span><span class="o">()</span>
<span class="w">                     </span><span class="o">.</span><span class="na">flatten</span><span class="o">()</span>

<span class="w">    </span><span class="c1">// emit a greeting</span>
<span class="w">    </span><span class="n">sayHello</span><span class="o">(</span><span class="n">greeting_ch</span><span class="o">)</span>

<span class="w">    </span><span class="c1">// convert the greeting to uppercase</span>
<span class="w">    </span><span class="n">convertToUpper</span><span class="o">(</span><span class="n">sayHello</span><span class="o">.</span><span class="na">out</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Contents.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Contents</p>
      </div>
    </a>
    <a class="right-next"
       href="RunningRealWorkflow.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">RNA-Seq workflow</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-our-first-script">Running our first script</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#find-the-output-and-logs-in-the-work-directory">Find the output and logs in the work directory</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#send-the-output-to-a-file-and-save-it-on-an-specific-folder">Send the output to a file and save it on an specific folder</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#add-in-variable-inputs-using-a-channel">Add in variable inputs using a channel</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#input-definition-to-the-process-block">1. Input definition to the process block:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#editing-the-process-command-to-use-the-input-variable">2. Editing the process command to use the input variable</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-an-input-channel">3. Creating an input channel</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-the-channel-as-input-to-the-process-call">4. Adding the channel as input to the process call</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#relaunch-a-pipeline-without-repeating-steps">Relaunch a pipeline without repeating steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-command-line-interface-cli-parameters-for-inputs">Use command line interface (CLI) parameters for inputs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-add-a-second-process-to-our-pipeline">Let’s add a second process to our pipeline</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#let-s-run-the-script-on-a-batch-of-input-values">Let’s run the script on a batch of input values</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#take-a-file-source-of-input-values-a-sample-file">Take a file source of input values (a sample file)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#full-script">Full script</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Albert Palleja from DSP
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, DTU Biosustain, Informatics Platform, Data Science Platform (DSP).
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>